<html t:type="layout" title="Search results"
      xmlns:t="http://tapestry.apache.org/schema/tapestry_5_3.xsd"
      xmlns:p="tapestry:parameter">

    <table class="full">
        <tr>
            <td valign="top" style="width:40%">
                <table class="full">
                    <tr>
                        <td><p>Origin: ${origin}</p></td>
                        <td><p>Destination: ${destination}</p></td>
                    </tr>
                    <tr>
                        <td><p>This search has ${numFlights} flight results</p></td>
                    </tr>
                </table>

                <table class="full">
                    <a t:id="pagedLoop" source="flights" value="flight" rowsPerPage="2" pagerPosition="bottom">
                        <tr height="10">&nbsp;</tr>
                        <tr>
                            <td>
                                <t:loop source="flightStrings" value="flightString">
                                    ${flightString}<br/>
                                </t:loop>
                                <t:actionlink t:id="view" context="flight.id">Visualize</t:actionlink>
                            </td>
                        </tr>
                    </a>
                </table>
            </td>

            <td valign="top" style="width:50%">
                <p>${visualizingFlight}</p>
                <div t:type="gmap" lng="lngin" lat="latin" coordlist="coordinatesParameter" style="width:100%; height:500px;"/>
                <div id="plotterError" style="display:none;">
                    There was an error loading the Google Map.
                </div>
            </td>
        </tr>
    </table>

</html>